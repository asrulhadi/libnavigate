CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(navigate)

FILE(GLOB SOURCE_ALL src/*.c)
ADD_LIBRARY(navigate SHARED ${SOURCE_ALL})

# Find required dependencies
INCLUDE_DIRECTORIES(include)

IF(WIN32)
	ADD_DEFINITIONS(-D_WIN32_WINNT=0x0500 -DWINVER=0x0500 -D_CRT_SECURE_NO_WARNINGS)
	SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} /Wall")
ELSE()
	SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall")
ENDIF()

IF(!WIN32)
	TARGET_LINK_LIBRARIES(navigate m)
ENDIF(!WIN32)

#IF(BUILD_TESTS)
	ADD_EXECUTABLE(test tests/main.c)
	TARGET_LINK_LIBRARIES(test navigate)
#ENDIF()

